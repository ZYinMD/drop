<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>drag-and-drop demo</title>
    <style>
      body {
        font-family: sans-serif;
      }
      iframe {
        width: 800px;
        height: 140px;
      }
      #dropbox {
        position: fixed;
        top: 100px;
        left: 100px;
        height: 100px;
        width: 100px;
        border: 4px dashed grey;
        border-radius: 20px;
      }
      .explanation {
        margin-top: 100px;
      }
    </style>
  </head>
  <body>
    <iframe src="https://bing.com"></iframe>
    <div id="dropbox"></div>
    <div class="explanation">
      <h3>Demo: a drag-and-drop area over an iframe of different origin</h3>
      <p>Try to select some text and drag it into the box.</p>
      <p>Behavior:</p>
      <p>- Chrome on Windows: box turns green on enter, alerts on drop</p>
      <p>- Firefox on Windows: same</p>
      <p>- Chrome on Mac: doesn't work on the top half of the box</p>
      <p>- Firefox on Mac: untested</p>
      <p>- Safari on Mac: untested</p>
    </div>
  </body>
  <script>
    const dropbox = document.getElementById("dropbox");
    dropbox.addEventListener("dragover", (e) => {
      e.preventDefault();
    });
    dropbox.addEventListener("dragenter", () => {
      dropbox.style.background = "PaleGreen";
    });
    dropbox.addEventListener("dragleave", () => {
      dropbox.style.background = "transparent";
    });
    dropbox.addEventListener("drop", (e) => {
      e.preventDefault();
      dropbox.style.background = "transparent";
      alert("Drop detected!");
    });
  </script>
</html>
